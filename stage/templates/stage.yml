# Generated by Terraform ${timestamp()}
# workspace name: ${workspace}
---
all:
  vars:
    ansible_user: ${user}
    domain: ${domain}
    ansible_ssh_extra_args: '-o StrictHostKeyChecking=no'
  hosts:
  children:
    proxy:
      hosts:
        ${proxy_hostname}:
          ansible_host: ${proxy_external_ipv4_address}
          ansible_ssh_private_key_file: ssh_secure/proxy
    dbservers:
      hosts:
        ${db01_hostname}:
          ansible_host: ${db01_internal_ipv4_address}
          ansible_ssh_private_key_file: ssh_secure/mysql
          db_role: master
        ${db02_hostname}:
          ansible_host: ${db02_internal_ipv4_address}
          ansible_ssh_private_key_file: ssh_secure/mysql
          db_role: slave
    wordpress:
      hosts:
        ${wordpress_hostname}:
          ansible_host: ${wordpress_internal_ipv4_address}
          ansible_ssh_private_key_file: ssh_secure/app
    monitoring:
      hosts:
        ${monitoring}:
          ansible_host: ${monitoring_internal_ipv4_address}
          ansible_ssh_private_key_file: ssh_secure/monitoring
    gitlab:
      hosts:
        ${gitlab}:
          ansible_host: ${gitlab_internal_ipv4_address}
          ansible_ssh_private_key_file: ssh_secure/gitlab
    gitlab-runner:
      hosts:
        ${runner}:
          ansible_host: ${runner_internal_ipv4_address}
          ansible_ssh_private_key_file: ssh_secure/runner
    db_cluster:
      vars:
        mysql_replication_master: ${db01_internal_ipv4_address}
        mysql_replication_slave: ${db02_internal_ipv4_address}
      children:
        dbservers:
        wordpress:
    gatewayed:
      children:
        dbservers:
        wordpress:
        monitoring:
        gitlab:
        gitlab-runner:
...
